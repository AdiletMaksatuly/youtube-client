"use strict";(self.webpackChunkyoutube_client=self.webpackChunkyoutube_client||[]).push([[651],{8651:(w,h,s)=>{s.r(h),s.d(h,{AuthModule:()=>M});var p=s(6895),d=s(6264),r=s(4650),C=s(9790),i=s(4006),l=(()=>{return(t=l||(l={})).EMAIL="email",t.PASSWORD="password",l;var t})(),m=(()=>{return(t=m||(m={})).REQUIRED="required",t.EMAIL="email",m;var t})(),a=(()=>{return(t=a||(a={})).REQUIRED="required",t.ENOUGH_CHARS="hasEnoughChars",t.UPPERCASE="hasUpperCase",t.LOWERCASE="hasLowerCase",t.NUMERIC="hasNumeric",t.SPECIALS="hasSpecials",a;var t})();var c=s(9549),L=s(4144),S=s(7392),v=s(4859);function b(t,n){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){const o=r.oxw();r.xp6(1),r.Oqu(o.getEmailErrorMessage())}}function U(t,n){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){const o=r.oxw();r.xp6(1),r.Oqu(o.getPasswordErrorMessage())}}let I=(()=>{class t{constructor(o){this.formBuilder=o,this.submitted=new r.vpe,this.loginForm=this.formBuilder.group({email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,n=>{const o=n.value;if(!o)return null;const e=o.length>=8,u=/[A-Z]+/.test(o),g=/[a-z]+/.test(o),f=/[0-9]+/.test(o),E=/[!@#$%^&*(),.?":{}|<>]/g.test(o);return e&&u&&g&&f&&E?null:(n=>Object.keys(n).reduce((e,u)=>n[u]?{...e,[u]:!0}:e,{}))({hasEnoughChars:!e,hasUpperCase:!u,hasLowerCase:!g,hasNumeric:!f,hasSpecials:!E})}]]}),this.hide=!0}ngOnInit(){this.loginForm.valueChanges.subscribe(()=>{this.loginForm.valid&&(this.hasEmailError=!1,this.hasPasswordError=!1);const o=this.loginForm.get(l.EMAIL),e=this.loginForm.get(l.PASSWORD);this.hasEmailError=this.checkHasError(o),this.hasPasswordError=this.checkHasError(e)})}checkHasError(o){return o.errors&&0!==Object.keys(o.errors).length}onSubmit(){this.loginForm.invalid||this.submitted.emit(this.loginForm.value)}getEmailErrorMessage(){const o=this.loginForm.get(l.EMAIL);return o.hasError(m.REQUIRED)?"Please enter a login email":o.hasError(m.EMAIL)?"The login email is invalid":""}getPasswordErrorMessage(){const o=this.loginForm.get(l.PASSWORD),e="Your password isn't strong enough: it must";switch(!0){case o.hasError(a.REQUIRED):return"Please enter a password";case o.hasError(a.ENOUGH_CHARS):return`${e} be at least 8 characters`;case o.hasError(a.LOWERCASE)||o.hasError(a.UPPERCASE):return`${e} contain 1 lowercase and 1 uppercase letter`;case o.hasError(a.NUMERIC):return`${e} contain numbers`;case o.hasError(a.SPECIALS):return`${e} contain at least 1 special character, e.g., ! @ # ? ]`;default:return""}}}return t.\u0275fac=function(o){return new(o||t)(r.Y36(i.qu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login-form"]],outputs:{submitted:"submitted"},decls:18,vars:7,consts:[[1,"login-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"login-form-field"],["matInput","","placeholder","Login email","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-flat-button","","type","submit","color","primary"]],template:function(o,e){1&o&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return e.onSubmit()}),r.TgZ(1,"h1"),r._uU(2,"Login"),r.qZA(),r.TgZ(3,"mat-form-field",1)(4,"mat-label"),r._uU(5,"Login email"),r.qZA(),r._UZ(6,"input",2),r.YNc(7,b,2,1,"mat-error",3),r.qZA(),r.TgZ(8,"mat-form-field",1)(9,"mat-label"),r._uU(10,"Password"),r.qZA(),r._UZ(11,"input",4),r.TgZ(12,"button",5),r.NdJ("click",function(){return e.hide=!e.hide}),r.TgZ(13,"mat-icon"),r._uU(14),r.qZA()(),r.YNc(15,U,2,1,"mat-error",3),r.qZA(),r.TgZ(16,"button",6),r._uU(17,"Submit"),r.qZA()()),2&o&&(r.Q6J("formGroup",e.loginForm),r.xp6(7),r.Q6J("ngIf",e.hasEmailError),r.xp6(4),r.Q6J("type",e.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password")("aria-pressed",e.hide),r.xp6(2),r.Oqu(e.hide?"visibility_off":"visibility"),r.xp6(1),r.Q6J("ngIf",e.hasPasswordError))},dependencies:[p.O5,c.TO,c.KE,c.hX,c.R9,L.Nt,S.Hw,v.lW,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:auto;padding:20px;background-color:#f1f1f1}.login-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();const P=[{path:"",component:(()=>{class t{constructor(o){this.loginService=o}onLogin({email:o}){this.loginService.loginUser(o)}}return t.\u0275fac=function(o){return new(o||t)(r.Y36(C.r))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login-page"]],decls:4,vars:0,consts:[[1,"container"],[3,"submitted"]],template:function(o,e){1&o&&(r.TgZ(0,"main")(1,"section")(2,"div",0)(3,"app-login-form",1),r.NdJ("submitted",function(g){return e.onLogin(g)}),r.qZA()()()())},dependencies:[I]}),t})()}];let R=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[d.Bz.forChild(P),d.Bz]}),t})();var Z=s(4466);let M=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[p.ez,Z.m,R,i.u5,i.UX]}),t})()}}]);