"use strict";(self.webpackChunkyoutube_client=self.webpackChunkyoutube_client||[]).push([[651],{8651:(w,h,s)=>{s.r(h),s.d(h,{AuthModule:()=>M});var p=s(6895),d=s(5116),r=s(4650),C=s(9790),i=s(4006),l=(()=>{return(o=l||(l={})).EMAIL="email",o.PASSWORD="password",l;var o})(),m=(()=>{return(o=m||(m={})).REQUIRED="required",o.EMAIL="email",m;var o})(),a=(()=>{return(o=a||(a={})).REQUIRED="required",o.ENOUGH_CHARS="hasEnoughChars",o.UPPERCASE="hasUpperCase",o.LOWERCASE="hasLowerCase",o.NUMERIC="hasNumeric",o.SPECIALS="hasSpecials",a;var o})();var c=s(9549),L=s(4144),S=s(7392),v=s(4859);function b(o,n){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const t=r.oxw();r.xp6(1),r.Oqu(t.getEmailErrorMessage())}}function U(o,n){if(1&o&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&o){const t=r.oxw();r.xp6(1),r.Oqu(t.getPasswordErrorMessage())}}let I=(()=>{class o{constructor(t){this.formBuilder=t,this.submitted=new r.vpe,this.loginForm=this.formBuilder.group({email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,n=>{const t=n.value;if(!t)return null;const e=t.length>=8,u=/[A-Z]+/.test(t),g=/[a-z]+/.test(t),f=/[0-9]+/.test(t),E=/[!@#$%^&*(),.?":{}|<>]/g.test(t);return e&&u&&g&&f&&E?null:(n=>Object.keys(n).reduce((e,u)=>n[u]?{...e,[u]:!0}:e,{}))({hasEnoughChars:!e,hasUpperCase:!u,hasLowerCase:!g,hasNumeric:!f,hasSpecials:!E})}]]}),this.hide=!0}ngOnInit(){this.loginForm.valueChanges.subscribe(()=>{this.loginForm.valid&&(this.hasEmailError=!1,this.hasPasswordError=!1);const t=this.loginForm.get(l.EMAIL),e=this.loginForm.get(l.PASSWORD);this.hasEmailError=this.checkHasError(t),this.hasPasswordError=this.checkHasError(e)})}checkHasError(t){return t.errors&&0!==Object.keys(t.errors).length}onSubmit(){this.loginForm.invalid||this.submitted.emit(this.loginForm.value)}getEmailErrorMessage(){const t=this.loginForm.get(l.EMAIL);return t.hasError(m.REQUIRED)?"Please enter a login email":t.hasError(m.EMAIL)?"The login email is invalid":""}getPasswordErrorMessage(){const t=this.loginForm.get(l.PASSWORD),e="Your password isn't strong enough: it must";switch(!0){case t.hasError(a.REQUIRED):return"Please enter a password";case t.hasError(a.ENOUGH_CHARS):return`${e} be at least 8 characters`;case t.hasError(a.LOWERCASE)||t.hasError(a.UPPERCASE):return`${e} contain 1 lowercase and 1 uppercase letter`;case t.hasError(a.NUMERIC):return`${e} contain numbers`;case t.hasError(a.SPECIALS):return`${e} contain at least 1 special character, e.g., ! @ # ? ]`;default:return""}}}return o.\u0275fac=function(t){return new(t||o)(r.Y36(i.qu))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-login-form"]],outputs:{submitted:"submitted"},decls:18,vars:8,consts:[[1,"login-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"login-form-field"],["matInput","","placeholder","Login email","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-flat-button","","type","submit","color","primary",3,"disabled"]],template:function(t,e){1&t&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return e.onSubmit()}),r.TgZ(1,"h1"),r._uU(2,"Login"),r.qZA(),r.TgZ(3,"mat-form-field",1)(4,"mat-label"),r._uU(5,"Login email"),r.qZA(),r._UZ(6,"input",2),r.YNc(7,b,2,1,"mat-error",3),r.qZA(),r.TgZ(8,"mat-form-field",1)(9,"mat-label"),r._uU(10,"Password"),r.qZA(),r._UZ(11,"input",4),r.TgZ(12,"button",5),r.NdJ("click",function(){return e.hide=!e.hide}),r.TgZ(13,"mat-icon"),r._uU(14),r.qZA()(),r.YNc(15,U,2,1,"mat-error",3),r.qZA(),r.TgZ(16,"button",6),r._uU(17,"Submit"),r.qZA()()),2&t&&(r.Q6J("formGroup",e.loginForm),r.xp6(7),r.Q6J("ngIf",e.hasEmailError),r.xp6(4),r.Q6J("type",e.hide?"password":"text"),r.xp6(1),r.uIk("aria-label","Hide password")("aria-pressed",e.hide),r.xp6(2),r.Oqu(e.hide?"visibility_off":"visibility"),r.xp6(1),r.Q6J("ngIf",e.hasPasswordError),r.xp6(1),r.Q6J("disabled",e.loginForm.invalid))},dependencies:[p.O5,c.TO,c.KE,c.hX,c.R9,L.Nt,S.Hw,v.lW,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".login-form[_ngcontent-%COMP%]{max-width:400px;margin:auto;padding:20px;background-color:#f1f1f1}.login-form-field[_ngcontent-%COMP%]{width:100%}"]}),o})();const P=[{path:"",component:(()=>{class o{constructor(t){this.loginService=t}onLogin({email:t}){this.loginService.loginUser(t)}}return o.\u0275fac=function(t){return new(t||o)(r.Y36(C.r))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-login-page"]],decls:4,vars:0,consts:[[1,"container"],[3,"submitted"]],template:function(t,e){1&t&&(r.TgZ(0,"main")(1,"section")(2,"div",0)(3,"app-login-form",1),r.NdJ("submitted",function(g){return e.onLogin(g)}),r.qZA()()()())},dependencies:[I]}),o})()}];let R=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[d.Bz.forChild(P),d.Bz]}),o})();var Z=s(4466);let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[p.ez,Z.m,R,i.u5,i.UX]}),o})()}}]);